Things to do:

1. Move whitespace into scanner.
2. Merge WS loop body and token dispatch into same `switch`.
3. Test error locations.
